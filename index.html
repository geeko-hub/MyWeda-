<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>MyWeda Niger — Météo locale stylée</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/1163/1163661.png">
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
    /* ===================== FOND ANIMÉ & PARALLAXE ===================== */
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        scroll-behavior: smooth;
        font-family: 'Montserrat', 'Nunito', Arial, sans-serif;
        background: linear-gradient(135deg, #8dc6f3 0%, #f3e7e9 100%);
    }

    /* Fond stylé avec effet de scroll (nuages en parallaxe) */
    .parallax-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1;
        overflow: hidden;
        pointer-events: none;
    }
    .cloud {
        position: absolute;
        opacity: 0.55;
        background: #fff;
        border-radius: 50%;
        filter: blur(3px);
        animation: cloudmove 38s linear infinite;
    }
    .cloud-1 { width: 180px; height: 60px; top: 10%; left: 10%; animation-delay: 0s;}
    .cloud-2 { width: 240px; height: 80px; top: 32%; left: 70%; animation-delay: 10s;}
    .cloud-3 { width: 120px; height: 38px; top: 55%; left: 28%; animation-delay: 20s;}
    .cloud-4 { width: 80px; height: 28px; top: 80%; left: 50%; animation-delay: 15s;}
    .cloud-5 { width: 120px; height: 38px; top: 65%; left: 5%; animation-delay: 25s;}
    @keyframes cloudmove {
        0% { transform: translateX(0);}
        100% { transform: translateX(60vw);}
    }

    /* Scrollbar stylée */
    ::-webkit-scrollbar {
        width: 8px;
        background: #dbeafe;
    }
    ::-webkit-scrollbar-thumb {
        background: #8dc6f3;
        border-radius: 4px;
    }
    body {
        color: #20324c;
        min-height: 100vh;
    }

    /* ===================== HEADER ===================== */
    .site-header {
        position: sticky;
        top: 0;
        background: rgba(255,255,255,0.85);
        backdrop-filter: blur(8px);
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        z-index: 20;
        text-align: center;
        padding: 1.5em 0 1em 0;
        border-bottom: 2px solid #8dc6f3;
    }
    .site-header .brand {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1em;
    }
    .site-header .brand-logo {
        width: 52px;
        height: 52px;
        filter: drop-shadow(0 2px 8px #8dc6f3aa);
        transition: transform 0.2s;
    }
    .site-header .brand-logo:hover {
        transform: scale(1.07) rotate(-8deg);
    }
    .site-header h1 {
        font-size: 2.2em;
        font-weight: 700;
        color: #2563eb;
        letter-spacing: 0.04em;
        margin: 0;
        text-shadow: 0 2px 12px #f3e7e955;
    }
    .site-header .tagline {
        font-size: 1.07em;
        color: #0f172a;
        margin-top: 0.4em;
        opacity: 0.82;
        font-family: 'Nunito', Arial, sans-serif;
    }
    .dark-toggle {
        position: absolute;
        right: 2em;
        top: 1.7em;
        background: #8dc6f3;
        color: #2563eb;
        border: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        font-size: 1.5em;
        box-shadow: 0 2px 8px #8dc6f355;
        cursor: pointer;
        transition: background 0.3s, color 0.3s;
    }
    .dark-toggle:hover {
        background: #2563eb;
        color: #fff;
    }

    /* ===================== MAIN ===================== */
    .content {
        max-width: 550px;
        margin: 3em auto 0 auto;
        padding: 0 1.2em 2em 1.2em;
        background: rgba(255,255,255,0.82);
        border-radius: 18px;
        box-shadow: 0 4px 32px #8dc6f355;
        position: relative;
        z-index: 2;
    }

    /* ===================== SEARCH ===================== */
    .search-zone {
        margin-bottom: 2.1em;
    }
    .input-group {
        display: flex;
        gap: 0.6em;
        background: #e3f0fb;
        border-radius: 32px;
        box-shadow: 0 2px 12px #8dc6f326;
        padding: 0.27em 0.8em;
        align-items: center;
    }
    .search-field {
        flex: 1;
        border: none;
        outline: none;
        font-size: 1.08em;
        background: transparent;
        color: #2563eb;
        padding: 0.9em;
        font-family: 'Nunito', Arial, sans-serif;
        border-radius: 24px;
        letter-spacing: 0.03em;
    }
    .search-action {
        background: #2563eb;
        color: #fff;
        border: none;
        border-radius: 24px;
        font-size: 1.18em;
        padding: 0.55em 1.1em;
        cursor: pointer;
        font-weight: 700;
        box-shadow: 0 2px 8px #8dc6f344;
        transition: background 0.2s;
    }
    .search-action:hover {
        background: #1e40af;
        color: #f3e7e9;
        box-shadow: 0 2px 16px #2563eb55;
    }

    /* ===================== SUGGESTIONS ===================== */
    .suggestions {
        position: relative;
        width: 100%;
        z-index: 10;
    }
    .suggestions ul {
        background: #fff;
        margin: 0;
        padding: 0.2em 0;
        border-radius: 12px;
        box-shadow: 0 2px 16px #8dc6f344;
        border: 1px solid #e3f0fb;
        list-style: none;
        max-height: 230px;
        overflow-y: auto;
    }
    .suggestions ul li {
        padding: 0.75em 1.1em;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        font-size: 1.07em;
        border-bottom: 1px solid #e3f0fb;
        transition: background 0.16s;
    }
    .suggestions ul li:last-child { border-bottom: none; }
    .suggestions ul li:hover {
        background: #8dc6f333;
        color: #2563eb;
        font-weight: 700;
    }

    /* ===================== LOADER ===================== */
    .loader {
        display: flex;
        align-items: center;
        gap: 1.1em;
        margin: 1.2em 0;
        justify-content: center;
    }
    .spinner {
        width: 30px;
        height: 30px;
        border: 4px solid #e3f0fb;
        border-top: 4px solid #2563eb;
        border-radius: 50%;
        animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ===================== ERROR ===================== */
    .errorbox {
        background: #ef4444;
        color: #fff;
        padding: 0.8em 1.1em;
        border-radius: 12px;
        margin: 1em 0;
        text-align: center;
        font-weight: 700;
        box-shadow: 0 2px 12px #ef444455;
        font-family: 'Nunito', Arial, sans-serif;
    }

    /* ===================== WEATHER CARD ===================== */
    .weather-zone {
        margin: 1em 0 2em 0;
    }
    .weather-card {
        background: linear-gradient(120deg,#e3f0fb 60%, #f3e7e9 100%);
        border-radius: 20px;
        box-shadow: 0 2px 16px #8dc6f355;
        padding: 1.4em 1.1em 1.1em 1.1em;
        margin-bottom: 1.2em;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .weather-header h2 {
        margin: 0 0 0.3em 0;
        font-size: 1.3em;
        color: #2563eb;
        font-weight: 700;
        text-shadow: 0 1px 8px #8dc6f344;
    }
    .current-weather {
        display: flex;
        align-items: center;
        gap: 1.2em;
        flex-wrap: wrap;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
    }
    .weather-icon-large {
        width: 72px;
        height:         filter: drop-shadow(0 6px 12px #2563eb22);
    }
    .temperature-info {
        display: flex;
        flex-direction: column;
        gap: 0.3em;
        align-items: flex-start;
    }
    .temperature {
        font-size: 2.35em;
        font-weight: 700;
        color: #1e40af;
        margin-bottom: 0.12em;
        text-shadow: 0 2px 12px #8dc6f344;
    }
    .condition {
        font-size: 1.07em;
        color: #2563eb;
        font-weight: 600;
    }
    .weather-details {
        display: flex;
        flex-direction: column;
        gap: 0.6em;
        min-width: 120px;
        font-size: 1.01em;
        color: #10b981;
        font-family: 'Nunito', Arial, sans-serif;
    }
    .detail-item {
        font-size: 0.97em;
        color: #2563eb;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 0.5em;
    }

    /* ===================== GRAPH CONTROLS ===================== */
    .graph-controls {
        margin: 1.7em 0 0.7em 0;
        text-align: center;
    }
    .tab-btn {
        background: #2563eb;
        color: #fff;
        border: none;
        padding: 0.6em 1.2em;
        border-radius: 22px;
        font-weight: 700;
        cursor: pointer;
        font-size: 1em;
        margin: 0 0.4em;
        transition: background 0.18s, color 0.18s;
        box-shadow: 0 2px 8px #8dc6f344;
    }
    .tab-btn.active,
    .tab-btn:hover {
        background: #10b981;
        color: #2563eb;
    }

    /* ===================== CHART ===================== */
    .graph-zone {
        background: #e3f0fb;
        border-radius: 20px;
        box-shadow: 0 2px 16px #8dc6f355;
        padding: 1.4em 0.8em 1.1em 0.8em;
        margin-bottom: 2em;
    }
    canvas {
        width: 100% !important;
        height: 260px !important;
    }

    /* ===================== FOOTER ===================== */
    .site-footer {
        background: #f3e7e9;
        color: #2563eb;
        text-align: center;
        padding: 1em 0 0.7em 0;
        font-size: 1.03em;
        margin-top: 3em;
        border-radius: 0 0 18px 18px;
        box-shadow: 0 -2px 8px #8dc6f344;
        font-family: 'Nunito', Arial, sans-serif;
    }

    /* ===================== RESPONSIVE ===================== */
    @media (max-width: 600px) {
        .content { padding: 0 0.3em 2em 0.3em; }
        .weather-card { padding: 0.9em 0.2em 0.7em 0.2em; }
        .current-weather { flex-direction: column; gap: 0.8em; }
    }
    @media (max-width: 400px) {
        .site-header h1 { font-size: 1.35em; }
        .site-footer { font-size: 0.91em; }
        .weather-header h2 { font-size: 1.12em; }
    }
    </style>
</head>
<body>
    <!-- Fond animé -->
    <div class="parallax-bg">
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
        <div class="cloud cloud-3"></div>
        <div class="cloud cloud-4"></div>
        <div class="cloud cloud-5"></div>
    </div>
    <!-- Header -->
    <header class="site-header">
        <div class="brand">
            <img src="https://cdn-icons-png.flaticon.com/512/1163/1163661.png" alt="Logo météo" class="brand-logo">
            <h1>MyWeda Niger</h1>
        </div>
        <p class="tagline">Prévisions météo stylées pour chaque commune du Niger</p>
        <button id="darkModeToggle" class="dark-toggle" title="Mode sombre">🌙</button>
    </header>
    <main class="content">
        <!-- Recherche -->
        <section class="search-zone">
            <div class="input-group">
                <input id="searchInput" type="text" class="search-field" placeholder="Tapez une ville du Niger...">
                <button id="searchBtn" class="search-action">🔍</button>
            </div>
            <div id="dropdown" class="suggestions">
                <ul id="cityList"></ul>
            </div>
        </section>
        <!-- Loader -->
        <div id="loading" class="loader" style="display:none;">
            <span class="spinner"></span>
            <span>Chargement météo...</span>
        </div>
        <!-- Erreur -->
        <div id="errorMessage" class="errorbox" style="display:none;"></div>
        <!-- Section météo -->
        <section id="weather" class="weather-zone"></section>
        <!-- Contrôles du graphique -->
        <div id="chartControls" class="graph-controls" style="display:none;">
            <button id="tempBtn" class="tab-btn active">Température</button>
            <button id="precipBtn" class="tab-btn">Précipitations</button>
        </div>
        <!-- Graphique -->
        <section id="chartSection" class="graph-zone" style="display:none;">
            <canvas id="forecastChart"></canvas>
        </section>
    </main>
    <footer class="site-footer">
        <small>© 2025 MyWeda Niger | Open source | Design stylé avec effets scroll & parallaxe</small>
    </footer>
    <!-- Ton JS -->
    <script src="script.js"></script>
</body>
</html>
